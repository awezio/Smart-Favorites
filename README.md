# Smart Favorites æ™ºèƒ½æ”¶è—å¤¹

<p align="center">
  <img src="extension/icons/icon128.png" alt="Smart Favorites Logo" width="128" height="128">
</p>

<p align="center">
  <strong>åŸºäº AI çš„æµè§ˆå™¨æ”¶è—å¤¹æ™ºèƒ½ç®¡ç†ç³»ç»Ÿ</strong><br>
  æ”¯æŒè¯­ä¹‰æœç´¢ã€RAG é—®ç­”ã€æ™ºèƒ½åˆ†ç±»å’Œé‡å¤æ£€æµ‹
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a>
  <img src="https://img.shields.io/badge/Version-1.1.0-green.svg" alt="Version">
  <img src="https://img.shields.io/badge/Platform-Edge%20%7C%20Chrome-orange.svg" alt="Platform">
  <img src="https://img.shields.io/badge/Python-3.11+-yellow.svg" alt="Python">
</p>

---

## v1.1 æ–°ç‰¹æ€§

- **ä¾§è¾¹æ æ¨¡å¼**: æ’ä»¶ç°åœ¨ä»¥ä¾§è¾¹æ å½¢å¼æ‰“å¼€ï¼Œä¸å†é®æŒ¡é¡µé¢å†…å®¹
- **åŒä¸»é¢˜ç³»ç»Ÿ**: æ”¯æŒæ·±è‰²æ¨¡å¼ã€æµ…è‰²æ¨¡å¼å’Œè‡ªåŠ¨è·Ÿéšç³»ç»Ÿ
- **å·¥å…·æ å¢å¼º**: æ–°å¢åˆ·æ–°ã€ç‹¬ç«‹çª—å£ã€ä¸»é¢˜åˆ‡æ¢ã€å…³é—­æŒ‰é’®
- **ç‹¬ç«‹çª—å£**: å¯å°†ä¾§è¾¹æ åˆ†ç¦»ä¸ºç‹¬ç«‹æµè§ˆå™¨çª—å£

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½              | æè¿°                                                   |
| ----------------- | ------------------------------------------------------ |
| ğŸ” **è¯­ä¹‰æœç´¢**   | ä½¿ç”¨å‘é‡æ•°æ®åº“è¿›è¡Œæ™ºèƒ½è¯­ä¹‰æ£€ç´¢ï¼Œä¸ä»…ä»…æ˜¯å…³é”®è¯åŒ¹é…     |
| ğŸ’¬ **AI é—®ç­”**    | åŸºäº RAG æŠ€æœ¯ï¼Œç”¨è‡ªç„¶è¯­è¨€è¯¢é—®æ”¶è—å¤¹ç›¸å…³é—®é¢˜            |
| ğŸ”„ **è‡ªåŠ¨åŒæ­¥**   | ç›´æ¥è¯»å–æµè§ˆå™¨æ”¶è—å¤¹ï¼Œæ”¯æŒè‡ªåŠ¨/å®šæ—¶/æ‰‹åŠ¨åŒæ­¥           |
| ğŸ¤– **å¤šæ¨¡å‹æ”¯æŒ** | é€‚é… OpenAIã€DeepSeekã€Kimiã€Qwenã€Claude ç­‰ä¸»æµå¤§æ¨¡å‹ |

### æ™ºèƒ½å·¥å…·

| åŠŸèƒ½            | æè¿°                                   |
| --------------- | -------------------------------------- |
| ğŸ·ï¸ **æ™ºèƒ½åˆ†ç±»** | AI åˆ†æä¹¦ç­¾å†…å®¹ï¼Œå»ºè®®æ›´åˆç†çš„åˆ†ç±»æ–¹å¼  |
| ğŸ” **é‡å¤æ£€æµ‹** | è‡ªåŠ¨æ£€æµ‹é‡å¤æˆ–ç›¸ä¼¼çš„ä¹¦ç­¾ï¼Œæä¾›æ•´åˆå»ºè®® |
| âœ… **ç”¨æˆ·ç¡®è®¤** | æ‰€æœ‰ AI å»ºè®®éœ€ç”¨æˆ·æ‰‹åŠ¨ç¡®è®¤åæ‰ä¼šæ‰§è¡Œ   |

## æˆªå›¾é¢„è§ˆ

<p align="center">
  <i>ä¾§è¾¹æ æ·±è‰²æ¨¡å¼</i><br>
  <!-- <img src="docs/screenshots/dark-mode.png" alt="Dark Mode" width="400"> -->
</p>

<p align="center">
  <i>ä¾§è¾¹æ æµ…è‰²æ¨¡å¼</i><br>
  <!-- <img src="docs/screenshots/light-mode.png" alt="Light Mode" width="400"> -->
</p>

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Edge/Chrome æµè§ˆå™¨ (æ”¯æŒ Manifest V3)
- è‡³å°‘ä¸€ä¸ª AI æ¨¡å‹çš„ API Key

### 2. å®‰è£…åç«¯

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/smart-favorites.git
cd smart-favorites

# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp env.example .env  # Linux/Mac
copy env.example .env  # Windows
```

### 3. é…ç½® AI æ¨¡å‹

ç¼–è¾‘ `backend/.env` æ–‡ä»¶ï¼Œé…ç½®ä½ çš„ API å¯†é’¥ï¼š

```env
# é€‰æ‹©é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹æä¾›å•†
DEFAULT_LLM_PROVIDER=deepseek

# DeepSeek (æ¨èå›½å†…ç”¨æˆ·ä½¿ç”¨)
DEEPSEEK_API_KEY=sk-your-api-key

# æˆ–å…¶ä»–æ¨¡å‹
OPENAI_API_KEY=sk-your-api-key
KIMI_API_KEY=sk-your-api-key
```

### 4. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
python run.py
```

æœåŠ¡å°†åœ¨ http://localhost:8000 å¯åŠ¨

### 5. å®‰è£…æµè§ˆå™¨æ’ä»¶

**æ–¹æ³• A: ä» Release ä¸‹è½½**

1. å‰å¾€ [Releases](https://github.com/yourusername/smart-favorites/releases) é¡µé¢
2. ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ `smart-favorites-extension.zip`
3. è§£å‹åˆ°æœ¬åœ°ç›®å½•

**æ–¹æ³• B: ä»æºç å®‰è£…**

ç›´æ¥ä½¿ç”¨é¡¹ç›®ä¸­çš„ `extension` ç›®å½•

**åŠ è½½æ’ä»¶:**

1. æ‰“å¼€ Edge æµè§ˆå™¨ï¼Œè®¿é—® `edge://extensions/`
2. å¼€å¯ã€Œå¼€å‘äººå‘˜æ¨¡å¼ã€
3. ç‚¹å‡»ã€ŒåŠ è½½è§£å‹ç¼©çš„æ‰©å±•ã€
4. é€‰æ‹© `extension` ç›®å½•

## é¡¹ç›®ç»“æ„

```
Smart Favorites/
â”œâ”€â”€ backend/                    # Python åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/               # FastAPI è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ config/            # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ services/          # æ ¸å¿ƒæœåŠ¡
â”‚   â”‚       â”œâ”€â”€ bookmark_parser.py  # ä¹¦ç­¾è§£æ
â”‚   â”‚       â”œâ”€â”€ vector_store.py     # å‘é‡å­˜å‚¨
â”‚   â”‚       â”œâ”€â”€ llm_adapter.py      # LLM é€‚é…å™¨
â”‚   â”‚       â”œâ”€â”€ rag_engine.py       # RAG å¼•æ“
â”‚   â”‚       â””â”€â”€ ai_analyzer.py      # AI åˆ†æ
â”‚   â”œâ”€â”€ requirements.txt       # Python ä¾èµ–
â”‚   â”œâ”€â”€ env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚   â””â”€â”€ run.py                # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ extension/                  # æµè§ˆå™¨æ’ä»¶
â”‚   â”œâ”€â”€ manifest.json          # æ’ä»¶é…ç½® (Manifest V3)
â”‚   â”œâ”€â”€ sidepanel/            # ä¾§è¾¹æ ç•Œé¢ (v1.1 æ–°å¢)
â”‚   â”‚   â”œâ”€â”€ sidepanel.html
â”‚   â”‚   â”œâ”€â”€ sidepanel.css     # å«æ·±è‰²/æµ…è‰²åŒä¸»é¢˜
â”‚   â”‚   â””â”€â”€ sidepanel.js
â”‚   â”œâ”€â”€ background/            # åå°æœåŠ¡
â”‚   â”œâ”€â”€ options/               # è®¾ç½®é¡µé¢
â”‚   â””â”€â”€ icons/                 # å›¾æ ‡èµ„æº
â”œâ”€â”€ LICENSE                    # Apache 2.0 è®¸å¯è¯
â””â”€â”€ README.md
```

## API æ¥å£

### å¥åº·æ£€æŸ¥

```http
GET /api/health
```

### åŒæ­¥æ”¶è—å¤¹

```http
POST /api/bookmarks/sync
Content-Type: application/json

{
  "html_content": "<ä¹¦ç­¾ HTML>",
  "replace_existing": true
}
```

### è¯­ä¹‰æœç´¢

```http
POST /api/search
Content-Type: application/json

{
  "query": "æœºå™¨å­¦ä¹ æ•™ç¨‹",
  "top_k": 10
}
```

### AI é—®ç­”

```http
POST /api/chat
Content-Type: application/json

{
  "message": "æˆ‘æ”¶è—äº†å“ªäº›å…³äº Python çš„ç½‘ç«™ï¼Ÿ",
  "include_sources": true
}
```

### AI æ™ºèƒ½åˆ†ç±»

```http
POST /api/ai/categorize
```

### é‡å¤æ£€æµ‹

```http
POST /api/ai/duplicates
```

å®Œæ•´ API æ–‡æ¡£è¯·è®¿é—®: http://localhost:8000/docs

## æ”¯æŒçš„ AI æ¨¡å‹

| æä¾›å•†   | æ¨¡å‹                 | è¯´æ˜                   |
| -------- | -------------------- | ---------------------- |
| OpenAI   | gpt-3.5-turbo, gpt-4 | éœ€è¦ API Key           |
| DeepSeek | deepseek-chat        | å›½å†…å¯ç”¨ï¼Œæ€§ä»·æ¯”é«˜     |
| Kimi     | moonshot-v1-8k       | æœˆä¹‹æš—é¢ï¼Œæ”¯æŒé•¿æ–‡æœ¬   |
| Qwen     | qwen-turbo           | é˜¿é‡Œé€šä¹‰åƒé—®           |
| Claude   | claude-3-sonnet      | Anthropic              |
| Gemini   | gemini-pro           | Google                 |
| GLM      | glm-4                | æ™ºè°± AI                |
| Ollama   | llama2 ç­‰            | æœ¬åœ°éƒ¨ç½²ï¼Œæ— éœ€ API Key |

## æŠ€æœ¯æ ˆ

### åç«¯

- **FastAPI** - é«˜æ€§èƒ½ Python Web æ¡†æ¶
- **ChromaDB** - å‘é‡æ•°æ®åº“
- **Sentence Transformers** - æœ¬åœ° Embedding æ¨¡å‹
- **å¤š LLM SDK** - OpenAIã€Anthropicã€Google ç­‰

### å‰ç«¯/æ’ä»¶

- **Manifest V3** - ç°ä»£æµè§ˆå™¨æ’ä»¶æ ‡å‡†
- **Side Panel API** - Chrome/Edge ä¾§è¾¹æ åŠŸèƒ½
- **åŸç”Ÿ JavaScript** - è½»é‡æ— ä¾èµ–
- **CSS å˜é‡** - æ”¯æŒä¸»é¢˜åˆ‡æ¢

## å¼€å‘è®¡åˆ’

- [x] æ”¶è—å¤¹ HTML è§£æ
- [x] ChromaDB å‘é‡å­˜å‚¨
- [x] RAG æ£€ç´¢å¢å¼ºç”Ÿæˆ
- [x] å¤š LLM é€‚é…å™¨
- [x] FastAPI åç«¯
- [x] Edge æµè§ˆå™¨æ’ä»¶
- [x] ç›´æ¥è¯»å–æµè§ˆå™¨æ”¶è—å¤¹
- [x] è‡ªåŠ¨/å®šæ—¶åŒæ­¥
- [x] AI ä¹¦ç­¾åˆ†ç±»å»ºè®®
- [x] AI é‡å¤ä¹¦ç­¾æ£€æµ‹
- [x] ä¾§è¾¹æ æ¨¡å¼ (v1.1)
- [x] æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ (v1.1)
- [ ] æ­»é“¾æ£€æµ‹
- [ ] ä¹¦ç­¾æ ‡ç­¾è‡ªåŠ¨ç”Ÿæˆ
- [ ] å¤šè¯­è¨€æ”¯æŒ

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: åç«¯å¯åŠ¨æ—¶æç¤º "è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­è¿æ¥"**

A: è¿™æ˜¯ä¸‹è½½ Embedding æ¨¡å‹æ—¶çš„ç½‘ç»œé—®é¢˜ï¼Œè¯·å‚è€ƒ `backend/TROUBLESHOOTING.md`

**Q: æ’ä»¶æ— æ³•è¿æ¥åç«¯**

A: ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œ (http://localhost:8000)ï¼Œæ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CORS é”™è¯¯

**Q: ä¾§è¾¹æ æ— æ³•æ‰“å¼€**

A: ç¡®ä¿ä½¿ç”¨çš„æ˜¯æ”¯æŒ Side Panel API çš„æµè§ˆå™¨ç‰ˆæœ¬ (Edge 114+ / Chrome 114+)

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) å¼€æºè®¸å¯è¯ã€‚

## è‡´è°¢

- [ChromaDB](https://www.trychroma.com/) - å‘é‡æ•°æ®åº“
- [FastAPI](https://fastapi.tiangolo.com/) - Web æ¡†æ¶
- [Sentence Transformers](https://www.sbert.net/) - Embedding æ¨¡å‹
- [Lucide Icons](https://lucide.dev/) - å›¾æ ‡åº“

---

<p align="center">
  <strong>Smart Favorites</strong> - è®©æ”¶è—å¤¹æ›´æ™ºèƒ½ ğŸ”–âœ¨
</p>
